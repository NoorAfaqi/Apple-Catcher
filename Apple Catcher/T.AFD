     1                                  [org 0x0100]
     2 00000000 E9C500                  jmp start
     3 00000003 00000000                Dcount: dd 0
     4 00000007 68656C6C6F20776F72-     message: db 'hello world', 0
     5 00000010 6C6400             
     6                                  
     7                                  clrscr:
     8 00000013 06                      	push es
     9 00000014 50                      	push ax
    10 00000015 51                      	push cx
    11 00000016 57                      	push di
    12 00000017 B800B8                  	mov ax, 0xb800
    13 0000001A 8EC0                    	mov es, ax
    14 0000001C 31FF                    	xor di, di
    15 0000001E B82007                  	mov ax, 0x0720
    16 00000021 B9D007                  	mov cx, 2000
    17 00000024 FC                      	cld
    18 00000025 F3AB                    	rep stosw
    19 00000027 5F                      	pop di
    20 00000028 C3                      	ret
    21                                  	
    22                                  	
    23                                  strlen:
    24 00000029 55                      	push bp
    25 0000002A 89E5                    	mov bp,sp
    26 0000002C 06                      	push es
    27 0000002D 51                      	push cx
    28 0000002E 57                      	push di
    29 0000002F C47E04                  	les di, [bp+4]
    30 00000032 B9FFFF                  	mov cx, 0xffff
    31 00000035 30C0                    	xor al, al
    32 00000037 F2AE                    	repne scasb
    33 00000039 B8FFFF                  	mov ax, 0xffff
    34 0000003C 29C8                    	sub ax, cx
    35 0000003E 48                      	dec ax
    36 0000003F 5F                      	pop di
    37 00000040 59                      	pop cx
    38 00000041 07                      	pop es
    39 00000042 5D                      	pop bp
    40 00000043 C20400                  	ret 4	
    41                                  	
    42                                  
    43                                  printstr:
    44 00000046 55                      	push bp
    45 00000047 89E5                    	mov bp, sp
    46 00000049 06                      	push es
    47 0000004A 50                      	push ax
    48 0000004B 51                      	push cx
    49 0000004C 56                      	push si
    50 0000004D 57                      	push di
    51 0000004E 52                      	push dx
    52 0000004F 1E                      	push ds
    53 00000050 8B4604                  	mov ax, [bp+4]
    54 00000053 50                      	push ax
    55 00000054 E8D2FF                  	call strlen
    56 00000057 3D0000                  	cmp ax, 0
    57 0000005A 7424                    	jz exit
    58 0000005C 89C1                    	mov cx, ax
    59 0000005E B800B8                  	mov ax, 0xb800
    60 00000061 8EC0                    	mov es, ax
    61 00000063 B050                    	mov al, 80
    62 00000065 F6660A                  	mul byte [bp+10]
    63 00000068 03460C                  	add ax, [bp+12]
    64 0000006B D1E0                    	shl ax, 1
    65 0000006D 89C7                    	mov di,ax
    66 0000006F 8B7606                  	mov si, [bp+6]
    67 00000072 8A6608                  	mov ah, [bp+8]
    68 00000075 FC                      	cld
    69                                  nextchar:
    70 00000076 AC                      	lodsb
    71 00000077 BA0100                  	mov dx,1
    72 0000007A E80D00                  	call DelayS
    73 0000007D AB                      	stosw
    74 0000007E E2F6                    	loop nextchar
    75                                  	exit:
    76 00000080 5A                      	pop dx
    77 00000081 5F                      	pop di
    78 00000082 5E                      	pop si
    79 00000083 59                      	pop cx
    80 00000084 58                      	pop ax
    81 00000085 07                      	pop es
    82 00000086 5D                      	pop bp
    83 00000087 C20800                  	ret 8	
    84                                  	
    85                                  	
    86                                  DelayS:
    87 0000008A 55                      	push bp
    88 0000008B 89E5                    	mov bp,sp
    89 0000008D 51                      	push cx
    90 0000008E 8B4E04                  	mov cx,[bp+4]
    91                                  DDlay:
    92 00000091 66C706[0300]701700-     	mov dword[Dcount],6000
    93 00000099 00                 
    94                                  delSec:
    95 0000009A 66FF0E[0300]            	dec dword[Dcount]
    96 0000009F 66813E[0300]000000-     	cmp dword[Dcount],0
    97 000000A7 00                 
    98 000000A8 75F0                    	jne delSec
    99 000000AA 49                      	dec cx
   100 000000AB 75E4                    	jnz DDlay
   101 000000AD 59                      	pop cx
   102 000000AE 5D                      	pop bp
   103 000000AF C3                      	ret
   104                                  	
   105                                  	
   106                                  PrintLine:
   107 000000B0 B800B8                  	mov ax,0xb800
   108 000000B3 8EC0                    	mov es,ax
   109 000000B5 BF0000                  	mov di,0
   110                                  loop1:
   111 000000B8 26C7052A0C              	mov word[es:di],0x0c2a
   112 000000BD 81C70200                	add di,2
   113 000000C1 81FF5000                	cmp di,80
   114 000000C5 75F1                    	jne loop1
   115 000000C7 C3                      	ret
   116                                  start:
   117 000000C8 E848FF                  	call clrscr
   118 000000CB E8E2FF                  	call PrintLine
   119                                  	;mov ax, 30
   120                                  	;push ax
   121                                  	;mov ax, 20
   122                                  	;push ax
   123                                  	;mov ax, 0x71
   124                                  	;push ax
   125                                  	;mov ax, message
   126                                  	;push ax
   127                                  	;call printstr
   128 000000CE B8004C                  	mov ax, 0x4c00 
   129 000000D1 CD21                    	int 0x21
