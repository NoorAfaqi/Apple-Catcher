     1                                  [org 0x0100]
     2 00000000 E9A500                  jmp start
     3 00000003 00000000                Dcount: dd 0
     4 00000007 68656C6C6F20776F72-     message: db 'hello world', 0
     5 00000010 6C6400             
     6                                  
     7                                  clrscr:
     8 00000013 06                      	push es
     9 00000014 50                      	push ax
    10 00000015 51                      	push cx
    11 00000016 57                      	push di
    12 00000017 B800B8                  	mov ax, 0xb800
    13 0000001A 8EC0                    	mov es, ax
    14 0000001C 31FF                    	xor di, di
    15 0000001E B82007                  	mov ax, 0x0720
    16 00000021 B9D007                  	mov cx, 2000
    17 00000024 FC                      	cld
    18 00000025 F3AB                    	rep stosw
    19 00000027 5F                      	pop di
    20 00000028 C3                      	ret
    21                                  	
    22                                  	
    23                                  strlen:
    24 00000029 55                      	push bp
    25 0000002A 89E5                    	mov bp,sp
    26 0000002C 06                      	push es
    27 0000002D 51                      	push cx
    28 0000002E 57                      	push di
    29 0000002F C47E04                  	les di, [bp+4]
    30 00000032 B9FFFF                  	mov cx, 0xffff
    31 00000035 30C0                    	xor al, al
    32 00000037 F2AE                    	repne scasb
    33 00000039 B8FFFF                  	mov ax, 0xffff
    34 0000003C 29C8                    	sub ax, cx
    35 0000003E 48                      	dec ax
    36 0000003F 5F                      	pop di
    37 00000040 59                      	pop cx
    38 00000041 07                      	pop es
    39 00000042 5D                      	pop bp
    40 00000043 C20400                  	ret 4	
    41                                  	
    42                                  
    43                                  printstr:
    44 00000046 55                      	push bp
    45 00000047 89E5                    	mov bp, sp
    46 00000049 06                      	push es
    47 0000004A 50                      	push ax
    48 0000004B 51                      	push cx
    49 0000004C 56                      	push si
    50 0000004D 57                      	push di
    51 0000004E 1E                      	push ds
    52 0000004F 8B4604                  	mov ax, [bp+4]
    53 00000052 50                      	push ax
    54 00000053 E8D3FF                  	call strlen
    55 00000056 3D0000                  	cmp ax, 0
    56 00000059 741E                    	jz exit
    57 0000005B 89C1                    	mov cx, ax
    58 0000005D B800B8                  	mov ax, 0xb800
    59 00000060 8EC0                    	mov es, ax
    60 00000062 B050                    	mov al, 80
    61 00000064 F6660A                  	mul byte [bp+10]
    62 00000067 03460C                  	add ax, [bp+12]
    63 0000006A D1E0                    	shl ax, 1
    64 0000006C 89C7                    	mov di,ax
    65 0000006E 8B7606                  	mov si, [bp+6]
    66 00000071 8A6608                  	mov ah, [bp+8]
    67 00000074 FC                      	cld
    68                                  nextchar:
    69 00000075 AC                      	lodsb
    70 00000076 AB                      	stosw
    71 00000077 E2FC                    	loop nextchar
    72                                  	exit:
    73 00000079 5F                      	pop di
    74 0000007A 5E                      	pop si
    75 0000007B 59                      	pop cx
    76 0000007C 58                      	pop ax
    77 0000007D 07                      	pop es
    78 0000007E 5D                      	pop bp
    79 0000007F C20800                  	ret 8	
    80                                  	
    81                                  	
    82                                  DelayS:
    83 00000082 55                      	push bp
    84 00000083 89E5                    	mov bp,sp
    85 00000085 51                      	push cx
    86 00000086 8B4E04                  	mov cx,[bp+4]
    87                                  DDlay:
    88 00000089 66C706[0300]701700-     	mov dword[Dcount],6000
    89 00000091 00                 
    90                                  delSec:
    91 00000092 66FF0E[0300]            	dec dword[Dcount]
    92 00000097 66813E[0300]000000-     	cmp dword[Dcount],0
    93 0000009F 00                 
    94 000000A0 75F0                    	jne delSec
    95 000000A2 49                      	dec cx
    96 000000A3 75E4                    	jnz DDlay
    97 000000A5 59                      	pop cx
    98 000000A6 5D                      	pop bp
    99 000000A7 C3                      	ret
   100                                  	
   101                                  	
   102                                  	
   103                                  start:
   104 000000A8 E868FF                  	call clrscr
   105 000000AB B81E00                  	mov ax, 30
   106 000000AE 50                      	push ax
   107 000000AF B81400                  	mov ax, 20
   108 000000B2 50                      	push ax
   109 000000B3 B87100                  	mov ax, 0x71
   110 000000B6 50                      	push ax
   111 000000B7 B8[0700]                	mov ax, message
   112 000000BA 50                      	push ax
   113 000000BB E888FF                  	call printstr
   114 000000BE B8004C                  	mov ax, 0x4c00 
   115 000000C1 CD21                    	int 0x21
